const moment = require('moment-timezone');
const util = require('./util');
const axios = require('axios');

module.exports = {
    fetchAPI(){
        const endpoint = "https://jsonplaceholder.typicode.com";
        const url = endpoint + "posts";
        
        var config = {
            timeout: 6500, //6,5 secondi < di 8 secondi timeout
            headers: {'Accept': 'application/json'}
        };
        
        async function getJsonResponse(url, config){
            const res = await axios.get(url,config);
            return res.data;
        }
        
        return getJsonResponse(url, config).then((result) => {
            return result;
        }).catch((error) => {
            return null;
        });
    },
    /**
    convertAPIResponse(handlerInput, response){
        let speechResponse = '';
        
        if(!response || !response.results || !response.results.bindings || !Object.keys(response.result.bindings). length > 0){
            return ("Errore durante l'acquisizione delle API");//Errore -> Non mi acquisisce le api
        }
        
        const results = response.results.bindings;
        
        results.forEach((title, index) => {
            console.log(title + " | " + index );
            speechResponse += handlerInput
        })
    }
    */
    
}